//TODO Document how all these pages work and configs work together... returning to print page, fake sleep pages, wake page

///////////////////////////////////////////////////////////////////////////////
/// @fn luxSleep 1
/// @brief Simulate sleep by using a top layer
///////////////////////////////////////////////////////////////////////////////
if(InactiveSecs==-1) //Init
{
  thsp=0
}
InactiveSecs+=1
if(InactiveSecs>=SLEEP_TIME)
{
  FakeSleep=1
}
if(FakeSleep==1)
{
  dim=50
  setlayer oSleep,255
  oSleep.x=0
}

///////////////////////////////////////////////////////////////////////////////
/// @fn luxSleep 0
/// @breif Reset sleep settings
///////////////////////////////////////////////////////////////////////////////
oSleep.x=-480
FakeSleep=0
InactiveSecs=-1 //Set to -1 so that Page Init will increment to 0 on load
thsp=SLEEP_TIME 
dim=100

///////////////////////////////////////////////////////////////////////////////
/// tmSleep 1000ms timer
///////////////////////////////////////////////////////////////////////////////
click luxSleep,1

///////////////////////////////////////////////////////////////////////////////
/// oSleep click
///////////////////////////////////////////////////////////////////////////////
click luxSleep,0

///////////////////////////////////////////////////////////////////////////////
/// @fn luxInitialize 1
/// @brief Call when perminently exiting the page
///////////////////////////////////////////////////////////////////////////////
click luxSleep,1

///////////////////////////////////////////////////////////////////////////////
/// @fn luxInitialize 0
/// @brief Call when perminently exiting the page
///////////////////////////////////////////////////////////////////////////////
click luxSleep,0

///////////////////////////////////////////////////////////////////////////////
/// @fn tmAutoClose 1000ms timer
/// @brief Used primarily to navagate to back to print page (for fake sleep) if printing
///////////////////////////////////////////////////////////////////////////////
if(printer.printState.txt=="printing")
{
  CloseCycles+=1
  j=SLEEP_TIME-10
  if(CloseCycles>=j)
  {
    CloseCycles=0
    page DiagReturnPage
  }
}